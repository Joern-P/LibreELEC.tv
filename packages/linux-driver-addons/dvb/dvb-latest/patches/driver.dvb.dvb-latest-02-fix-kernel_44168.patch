--- a/backports/v4.5_get_user_pages.patch	2019-05-30 06:33:35.000000000 +0000
+++ b/backports/v4.5_get_user_pages.patch	2019-09-10 21:04:43.570865549 +0000
@@ -40,13 +40,28 @@
 index df4c052c6bd6..f669cedca8bd 100644
 --- a/drivers/media/v4l2-core/videobuf-dma-sg.c
 +++ b/drivers/media/v4l2-core/videobuf-dma-sg.c
-@@ -181,7 +181,8 @@ static int videobuf_dma_init_user_locked(struct videobuf_dmabuf *dma,
+@@ -181,8 +181,9 @@ static int videobuf_dma_init_user_locked(struct videobuf_dmabuf *dma,
  	dprintk(1, "init user [0x%lx+0x%lx => %d pages]\n",
  		data, size, dma->nr_pages);
  
 -	err = get_user_pages(data & PAGE_MASK, dma->nr_pages,
+-			     rw == READ, 1, /* force */
 +	err = get_user_pages(current, current->mm,
 +			     data & PAGE_MASK, dma->nr_pages,
- 			     rw == READ, 1, /* force */
++			     FOLL_FORCE | (rw == READ ? FOLL_WRITE : 0),
  			     dma->pages, NULL);
  
+ 	if (err != dma->nr_pages) {
+diff --git a/drivers/media/common/videobuf2/videobuf2-memops.c b/drivers/media/common/videobuf2/videobuf2-memops.c
+index 00bb08f..9e65048 100644
+--- a/drivers/media/common/videobuf2/videobuf2-memops.c
++++ b/drivers/media/common/videobuf2/videobuf2-memops.c
+@@ -49,7 +49,7 @@
+ 	vec = frame_vector_create(nr);
+ 	if (!vec)
+ 		return ERR_PTR(-ENOMEM);
+-	ret = get_vaddr_frames(start & PAGE_MASK, nr, true, true, vec);
++	ret = get_vaddr_frames(start & PAGE_MASK, nr, FOLL_FORCE | FOLL_WRITE, vec);
+ 	if (ret < 0)
+ 		goto out_destroy;
+ 	/* We accept only complete set of PFNs */
